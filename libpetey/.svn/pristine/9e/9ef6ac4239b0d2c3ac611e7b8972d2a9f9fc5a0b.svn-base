
# optimization level:
OPT=-g

# C++ compiler:
CPP = g++

BASE_PATH = /home/petey
#BASE_PATH = /home/home/pmills
#BASE_PATH = /home/pmills

LIB_PATH = $(BASE_PATH)/lib
INCLUDE_PATH = $(BASE_PATH)/include
BIN_PATH = $(BASE_PATH)/bin

GSL_INCLUDE = /usr/local/include

# C++ compiler options:
CFLAGS = $(OPT) -Wno-deprecated -I$(INCLUDE_PATH)

# GSL library:

LD_FLAGS = -L/usr/local/lib -lgsl -lgslcblas


all: erfc_table erf_table

# object file for the templated routines:
erfcinv$(OPT).o:	erfcinv.cc peteys_tmpl_lib.h supernewton.h 
	$(CPP) $(CFLAGS) -c erfcinv.cc -o $@

erfinv$(OPT).o:	erfinv.cc peteys_tmpl_lib.h supernewton.h 
	$(CPP) $(CFLAGS) -c erfinv.cc -o $@

erfc_table: erfc_table.cc erfcinv$(OPT).o libpetey$(OPT).a
	$(CPP) $(CFLAGS) -o $@ erfc_table.cc erfcinv$(OPT).o libpetey$(OPT).a $(LD_FLAGS)

erf_table: erf_table.cc erfinv$(OPT).o libpetey$(OPT).a
	$(CPP) $(CFLAGS) -o $@ erf_table.cc erfinv$(OPT).o libpetey$(OPT).a $(LD_FLAGS)

libpetey$(OPT).a: supernewton.cc
	make
	make install
